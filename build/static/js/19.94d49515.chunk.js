(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[19],{1049:function(e,t,a){"use strict";a.r(t);var c=a(157),n=a.n(c),s=a(234),r=a(58),o=a(1),i=a(904),d=a(914),l=a(66),j=a.n(l),O=a(902),u=a(154),b=a(907),p=a(29),x=a.n(p),h=a(6);t.default=function(e){var t=e.authenticated,a=e.login,c=e.location,l=Object(o.useState)(""),p=Object(r.a)(l,2),m=p[0],g=p[1],f=Object(o.useState)(""),S=Object(r.a)(f,2),y=S[0],v=S[1],T=Object(O.a)(["token"]),k=Object(r.a)(T,3),C=(k[0],k[1]),w=(k[2],Object(o.useState)({mode:!1,msg:"",color:"info"})),P=Object(r.a)(w,2),I=P[0],N=P[1],A=function(){var e=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("result12","86400"),console.log("result12","TOC#IO2021!TRBVYPO(!@PMGROW"),e.next=4,j.a.get("https://api.ipify.org?format=json");case 4:return t=e.sent,e.next=7,j.a.post("https://api.evmon.io/csms/api/auth/weblogin/",{userId:m,password:y,userIp:t.data.ip}).then((function(e){if(console.log("result",e.data.status),1===e.data.status){e.data.data.company;var t=e.data.data.token,c=x.a.AES.encrypt(JSON.stringify(e.data.data.userId),"TOC#IO2021!TRBVYPO(!@PMGROW").toString(),n=x.a.AES.encrypt(JSON.stringify(e.data.data.username),"TOC#IO2021!TRBVYPO(!@PMGROW").toString(),s=x.a.AES.encrypt(JSON.stringify(e.data.data.grade),"TOC#IO2021!TRBVYPO(!@PMGROW").toString(),r=x.a.AES.encrypt(JSON.stringify(e.data.data.companyId),"TOC#IO2021!TRBVYPO(!@PMGROW").toString(),o=x.a.AES.encrypt(JSON.stringify(e.data.data.csId),"TOC#IO2021!TRBVYPO(!@PMGROW").toString();C("TocToken",e.data.data.token,{path:"/",maxAge:"86400"}),C("TocData1",c,{path:"/",maxAge:"86400"}),C("TocData2",n,{path:"/",maxAge:"86400"}),C("TocData3",s,{path:"/",maxAge:"86400"}),C("TocData4",r,{path:"/",maxAge:"86400"}),C("TocData5",o,{path:"/",maxAge:"86400"}),a({userId:c,token:t})}else N(u.g("\uc785\ub825\ud55c \uc815\ubcf4\uac00 \uc815\ud655\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4","danger"))})).catch((function(e){N(u.g('<span style="font-size:20px;"><b>\ub85c\uadf8\uc778 \uc624\ub9581</b>'+JSON.stringify(e)+"</span>","danger")),g(""),v("")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(c.state||{from:{pathname:"/"}}).from;return t&&(window.location="/dashboard"),Object(h.jsxs)("div",{className:"c-app c-default-layout flex-row align-items-center",children:[Object(h.jsx)(b.a,{data:I,fnc:function(){N(!1)}}),Object(h.jsx)(i.l,{children:Object(h.jsx)(i.J,{className:"justify-content-center",children:Object(h.jsx)(i.k,{md:"8",children:Object(h.jsx)(i.i,{children:Object(h.jsx)(i.f,{className:"p-4",children:Object(h.jsx)(i.g,{children:Object(h.jsxs)(i.q,{id:"frmname",children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsx)("p",{className:"text-muted",children:"\ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694"}),Object(h.jsxs)(i.w,{className:"mb-3",children:[Object(h.jsx)(i.y,{children:Object(h.jsx)(i.z,{children:Object(h.jsx)(d.a,{name:"cil-user"})})}),Object(h.jsx)(i.v,{type:"text",value:m,onChange:function(e){var t=e.target.value;return g(t)},placeholder:"ID",autoComplete:"account"})]}),Object(h.jsxs)(i.w,{className:"mb-4",children:[Object(h.jsx)(i.y,{children:Object(h.jsx)(i.z,{children:Object(h.jsx)(d.a,{name:"cil-lock-locked"})})}),Object(h.jsx)(i.v,{type:"password",value:y,onChange:function(e){var t=e.target.value;return v(t)},placeholder:"Password",autoComplete:"current-password"})]}),Object(h.jsxs)(i.J,{children:[Object(h.jsx)(i.k,{xs:"6",children:Object(h.jsx)(i.e,{color:"primary",onClick:A,className:"px-4",children:"Login"})}),Object(h.jsx)(i.k,{xs:"6",className:"text-right"})]})]})})})})})})})]})}},907:function(e,t,a){"use strict";var c=a(58),n=a(1),s=a(904),r=a(6);t.a=function(e){var t=Object(n.useState)(!0),a=Object(c.a)(t,2),o=(a[0],a[1],Object(n.useState)(!1)),i=Object(c.a)(o,2),d=(i[0],i[1],Object(n.useState)(!1)),l=Object(c.a)(d,2),j=(l[0],l[1],Object(n.useState)(!1)),O=Object(c.a)(j,2),u=(O[0],O[1],Object(n.useState)(!1)),b=Object(c.a)(u,2),p=(b[0],b[1],Object(n.useState)(!1)),x=Object(c.a)(p,2),h=x[0],m=x[1],g=Object(n.useState)(!1),f=Object(c.a)(g,2),S=(f[0],f[1],Object(n.useState)(!1)),y=Object(c.a)(S,2),v=(y[0],y[1],Object(n.useState)("Error !!")),T=Object(c.a)(v,2),k=T[0],C=T[1];Object(n.useEffect)((function(){!0===e.data.mode?m(!h):m(h),C("<div style='padding-top:20px;'><span>"+e.data.msg+"</span></div>")}),[e]);return Object(r.jsxs)(s.D,{show:h,onClose:function(){return m(!h)},color:e.data.color,children:[Object(r.jsx)(s.G,{closeButton:!0,children:Object(r.jsx)(s.H,{children:"TOC System POPUP"})}),Object(r.jsx)(s.E,{id:"txtmsg",style:{textAlign:"center",paddingTop:"30px",paddingBottom:"30px"},dangerouslySetInnerHTML:{__html:k}}),Object(r.jsxs)(s.F,{children:["save"===e.mode&&Object(r.jsx)(s.e,{id:"btn_modal_save",color:"warning",onClick:function(){return e.handleClick()},children:"\uc800\uc7a5"}),"del"===e.mode&&Object(r.jsx)(s.e,{id:"btn_modal_del",color:"warning",onClick:function(){return e.delClick()},children:"\uc0ad\uc81c"}),Object(r.jsx)(s.e,{color:"secondary",onClick:function(){return e.fnc(!1),void m(!h)},children:"\ub2eb\uae30"})]})]})}}}]);
//# sourceMappingURL=19.94d49515.chunk.js.map